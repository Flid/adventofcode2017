from mojov3.register import RegisterCommunicator

reg = RegisterCommunicator()

data = (
    '61697637962276641366442297247367117738114719863473648131982449728688116'
    '72869586657298952447339298296397641114768358841587821418999616353358454'
    '71757941581181487242988327988983333997865614591526441446699598873414819'
    '68319172987357989785791366732849932788343772112176614723858474959919713'
    '85539887695642763135417266813354984558563221193557366218133161313786986'
    '66932593743221698116836353253215972428893581471233581177749146537873713'
    '68574784376721652181792371635288376729784967526824915192526744935187989'
    '57134774622211362557796347614192318753465844561559698761438591151393929'
    '22572637235187748881746359632546247696845335314437457293443419737464693'
    '26838186248448483587477563285867499956446218775232374383433921835993136'
    '46338362886111557314285435894329114876629965363319558213593454496465766'
    '31983877944424435319646151696552436526967824433946391696878474637215855'
    '27947839992182415393199964893658322757634675274422993237955354185194868'
    '63845489144289393569445432423596815591396328264264996815328462615411147'
    '83899143167657834343654583527858688955824883123349313179356694534474789'
    '36938533669921165437373741448378477391812779971528975478298688754939216'
    '42142925172755559648194332226628952799667285638764867416699773134255898'
    '65752587932619868171774871975122821629641671512594857448358545475133413'
    '22647732662443512251886771887651614177679229984271191292374755915457372'
    '77585617853996513131956827825232624261515141277225425784741379981141728'
    '74813217453728795137662357453478726329467765381736673712289772121439963'
    '91617974367923439923774388523845589769341351167311398787797583543434725'
    '37434361172437939956619743215414688134452831982643455423937366696254627'
    '12997177435912255675646555113532551975165152139638623837622589599574747'
    '89718564758843367325794589886852413314713698911855183778978722558742329'
    '42986723926146477364638948431844657437532367413663845217381517673238546'
    '86752152647367862428662956489973654126374996928177479379826285189263819'
    '39279935993712418938567488289246779458432179335139731952167527521377546'
    '376518126276'
)

for c in data:
    # It can actually be done in bulks, 64 chars per request,
    # or even 256 (requires the FPGA modifications to read all data bytes,
    # not just the first one)
    # But it's fine, takes just half a second.
    reg.register_write(address=0, data=[int(c)])

reg.register_write(address=1, data=[0])
print(reg.register_read(address=1, size=1))
